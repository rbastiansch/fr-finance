import CommonAlert from '~/components/CommonAlert.vue'

export default {
  title: 'Common/Alert',
  component: CommonAlert,
  parameters: {
    layout: 'fullscreen'
  },
  argTypes: {
    modelValue: { control: 'boolean', description: 'prop generated by v-model directive' },
    alert: { control: 'object', description: 'options for alert' },
    millisecondsToClose: {
      control: 'number',
      description: 'milliseconds to close alert after it have been open, default is 5000'
    },
    'update:modelValue': {
      action: 'update:modelValue',
      description: 'emits when is updated input type, default event for v-model directive'
    }
  }
}

const Template = (args) => ({
  components: { CommonAlert },
  props: Object.keys(args),
  setup() {
    return {
      args
    }
  },
  template: '<common-alert v-bind="args" v-on="args" />'
})

const TemplateWithSlot = (args) => ({
  components: { CommonAlert },
  props: Object.keys(args),
  setup() {
    return {
      args
    }
  },
  template: `
      <common-alert v-bind="args" v-on="args">
        <p>default slot content</p>
      </common-alert>
    `
})

export const ComponentWithSlot = TemplateWithSlot.bind({})
ComponentWithSlot.args = {
  modelValue: true
}

export const ComponentWithCustomMessage = Template.bind({})
ComponentWithCustomMessage.args = {
  modelValue: true,
  alert: {
    message: 'props alert message',
    borderColor: 'red'
  }
}
